{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/nobinsunny/Desktop/git-e/src/components/products/ProductCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Product } from '@/types/product';\nimport { FaChevronDown, FaMinus, FaPlus } from 'react-icons/fa6';\nimport { useCart } from '@/context/CartContext';\nimport { useRouter } from 'next/navigation';\n\ninterface ProductCardProps {\n  product: Product;\n}\n\nexport default function ProductCard({ product }: ProductCardProps) {\n  const router = useRouter();\n  const [isColorDropdownOpen, setIsColorDropdownOpen] = useState(false);\n  const [isSizeDropdownOpen, setIsSizeDropdownOpen] = useState(false);\n  const [selectedColor, setSelectedColor] = useState(\n    product.variants?.colors?.[0]?.name || ''\n  );\n  const [selectedSize, setSelectedSize] = useState(\n    product.variants?.sizes?.[0]?.name || ''\n  );\n  const [quantity, setQuantity] = useState(0);\n\n  const { updateCartQuantity } = useCart();\n\n  const handleQuantityChange = (increment: boolean) => {\n    const newQuantity = increment ? quantity + 1 : quantity - 1;\n    const validQuantity = Math.max(0, Math.min(newQuantity, product.stock));\n    setQuantity(validQuantity);\n    updateCartQuantity(product, validQuantity, selectedColor, selectedSize);\n  };\n\n  const handleAddToCart = () => {\n    // Update cart quantity\n    updateCartQuantity(product, 1, selectedColor, selectedSize);\n    // Navigate to cart page\n    router.push('/cart');\n  };\nconsole.log(\"product test: \",product);\n  // Calculate prices based on quantity\n  const sellingPrice = product.price;\n  const totalSellingPrice = quantity > 0 ? sellingPrice * quantity : sellingPrice;\n  const mrpPrice = product.originalPrice || (product.price * 1.2);\n  const totalMRP = quantity > 0 ? mrpPrice * quantity : mrpPrice;\n  \n  const discountPercentage = Math.round(((mrpPrice - sellingPrice) / mrpPrice) * 100);\n\n  return (\n    <div className=\"bg-white border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow\">\n      <Link href={`/products/${product._id}`}>\n        <div className=\"relative h-48\">\n          <Image\n            src={product.imageUrl || product.images?.main || '/images/placeholder.jpg'}\n            alt={product.name}\n            fill\n            className=\"object-cover\"\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n            priority={false}\n          />\n          {/* Discount Badge */}\n          {discountPercentage > 0 && (\n            <div className=\"absolute top-2 right-2 bg-red-500 text-white text-xs font-medium px-2 py-1 rounded\">\n              {discountPercentage}% OFF\n            </div>\n          )}\n        </div>\n      </Link>\n\n      <div className=\"p-4\">\n        {/* Title */}\n        <h3 className=\"text-gray-900 text-lg font-semibold mb-2\">{product.name}</h3>\n\n        {/* Description */}\n        <p className=\"text-gray-600 text-sm line-clamp-2 mb-4\">\n          {product.description}\n        </p>\n\n        {/* Variants Section */}\n        <div className=\"space-y-2 mb-4\">\n          {/* Size Variant Dropdown */}\n          {product.variants?.sizes && product.variants.sizes.length > 0 && (\n            <div className=\"relative\">\n              <button\n                onClick={() => {\n                  setIsSizeDropdownOpen(!isSizeDropdownOpen);\n                  setIsColorDropdownOpen(false);\n                }}\n                className=\"w-full px-3 py-2 border rounded-lg flex items-center justify-between text-sm text-gray-700 hover:bg-gray-50\"\n              >\n                <span>{selectedSize || 'Select Size'}</span>\n                <FaChevronDown className={`transition-transform ${isSizeDropdownOpen ? 'rotate-180' : ''}`} />\n              </button>\n\n              {isSizeDropdownOpen && (\n                <div className=\"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg\">\n                  {product.variants.sizes.map((size) => (\n                    <button\n                      key={size.name}\n                      onClick={() => {\n                        setSelectedSize(size.name);\n                        setIsSizeDropdownOpen(false);\n                      }}\n                      disabled={!size.inStock}\n                      className={`w-full px-3 py-2 text-left text-sm flex items-center justify-between hover:bg-gray-50\n                        ${!size.inStock ? 'opacity-50 cursor-not-allowed' : ''}\n                        ${size.name === selectedSize ? 'bg-gray-50' : ''}\n                      `}\n                    >\n                      {size.name}\n                      {!size.inStock && <span className=\"text-gray-500\">(Out of Stock)</span>}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Color Variant Dropdown */}\n          {product.variants?.colors && product.variants.colors.length > 0 && (\n            <div className=\"relative\">\n              <button\n                onClick={() => {\n                  setIsColorDropdownOpen(!isColorDropdownOpen);\n                  setIsSizeDropdownOpen(false);\n                }}\n                className=\"w-full px-3 py-2 border rounded-lg flex items-center justify-between text-sm text-gray-700 hover:bg-gray-50\"\n              >\n                <span className=\"flex items-center gap-2\">\n                  <span\n                    className=\"w-4 h-4 rounded-full border\"\n                    style={{\n                      backgroundColor: product.variants.colors.find(\n                        c => c.name === selectedColor\n                      )?.code || '#000'\n                    }}\n                  />\n                  {selectedColor || 'Select Color'}\n                </span>\n                <FaChevronDown className={`transition-transform ${isColorDropdownOpen ? 'rotate-180' : ''}`} />\n              </button>\n\n              {isColorDropdownOpen && (\n                <div className=\"absolute z-20 w-full mt-1 bg-white border rounded-lg shadow-lg\">\n                  {product.variants.colors.map((color) => (\n                    <button\n                      key={color.name}\n                      onClick={() => {\n                        setSelectedColor(color.name);\n                        setIsColorDropdownOpen(false);\n                      }}\n                      disabled={!color.inStock}\n                      className={`w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-gray-50\n                        ${!color.inStock ? 'opacity-50 cursor-not-allowed' : ''}\n                        ${color.name === selectedColor ? 'bg-gray-50' : ''}\n                      `}\n                    >\n                      <span\n                        className=\"w-4 h-4 rounded-full border\"\n                        style={{ backgroundColor: color.code }}\n                      />\n                      {color.name}\n                      {!color.inStock && <span className=\"ml-auto text-gray-500\">(Out of Stock)</span>}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Price Section */}\n        <div className=\"mb-4\">\n          <div className=\"flex items-center justify-between\">\n            {/* Left side: Selling Price and discount */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-gray-900 font-semibold text-lg\">\n                ₹{totalSellingPrice.toFixed(2)}\n              </span>\n              <div className=\"text-green-600 text-sm font-medium\">\n                ({discountPercentage}% off)\n              </div>\n            </div>\n\n            {/* Right side: MRP */}\n            <div className=\"flex items-center gap-1\">\n              <span className=\"text-sm text-gray-500\"></span>\n              <span className=\"text-gray-500 line-through\">\n                ₹{totalMRP.toFixed(2)}\n              </span>\n            </div>\n          </div>\n\n          {/* Quantity calculation - shown when quantity > 1 */}\n          {quantity > 1 && (\n            <div className=\"text-sm text-gray-500 mt-1\">\n              (₹{sellingPrice.toFixed(2)} × {quantity} items)\n            </div>\n          )}\n          \n          <p className=\"text-xs text-gray-500 mt-1\">\n            Inclusive of all taxes\n          </p>\n        </div>\n\n        {/* Quantity and Add to Cart/View */}\n        <div className=\"flex items-center justify-between space-x-2\">\n          <div className=\"flex items-center border rounded\">\n            <button\n              onClick={() => handleQuantityChange(false)}\n              className=\"px-2 py-1 hover:bg-gray-50\"\n              disabled={quantity <= 0}\n            >\n              <FaMinus className={`w-2.5 h-2.5 ${quantity <= 0 ? 'text-gray-300' : 'text-gray-600'}`} />\n            </button>\n            <span className=\"px-2 py-1 text-sm text-gray-900\">{quantity}</span>\n            <button\n              onClick={() => handleQuantityChange(true)}\n              className=\"px-2 py-1 hover:bg-gray-50\"\n              disabled={quantity >= product.stock}\n            >\n              <FaPlus className={`w-2.5 h-2.5 ${quantity >= product.stock ? 'text-gray-300' : 'text-gray-600'}`} />\n            </button>\n          </div>\n\n          <button\n            onClick={quantity > 0 ? () => router.push(`/products/${product._id}`) : handleAddToCart}\n            className=\"px-3 py-1.5 text-sm rounded transition-colors bg-gray-900 text-white hover:bg-gray-800\"\n          >\n            {quantity > 0 ? 'View' : 'Add to Cart'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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"}},
    {"offset": {"line": 476, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":["file:///Users/nobinsunny/Desktop/git-e/src/components/products/ProductGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport ProductCard from './ProductCard';\nimport { Product } from '@/types/product';\n\ninterface ProductGridProps {\n  products?: Product[];\n  limit?: number;\n}\n\nexport default function ProductGrid({ products: propProducts, limit }: ProductGridProps) {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(!propProducts);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (propProducts) {\n      const limitedProducts = limit ? propProducts.slice(0, limit) : propProducts;\n      setProducts(limitedProducts);\n      setLoading(false);\n      return;\n    }\n\n    const fetchProducts = async () => {\n      try {\n        console.log('Fetching products...');\n        const response = await fetch('/api/products');\n        console.log('Response status:', response.status);\n        \n        if (!response.ok) {\n          throw new Error('Failed to fetch products');\n        }\n        \n        const data = await response.json();\n        console.log('Product URLs:', data.map((p: Product) => p.imageUrl));\n        \n        // If limit is provided, only show that many products\n        const limitedProducts = limit ? data.slice(0, limit) : data;\n        setProducts(Array.isArray(limitedProducts) ? limitedProducts : []);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        setError(error instanceof Error ? error.message : 'Failed to fetch products');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [limit, propProducts]);\n\n  console.log('Current products:', products);\n\n  if (loading) {\n    return <div className=\"text-center py-8\">Loading products...</div>;\n  }\n\n  if (error) {\n    return <div className=\"text-center py-8 text-red-500\">Error: {error}</div>;\n  }\n\n  if (!products.length) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-500 mb-4\">No products available</p>\n        <p className=\"text-sm\">Visit /api/products/seed to add sample products</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n      {products.map((product) => (\n        <ProductCard key={product._id} product={product} />\n      ))}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAWe,SAAS,YAAY,EAAE,UAAU,YAAY,EAAE,KAAK,EAAoB;;IACrF,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAC;IACxC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,cAAc;gBAChB,MAAM,kBAAkB,QAAQ,aAAa,KAAK,CAAC,GAAG,SAAS;gBAC/D,YAAY;gBACZ,WAAW;gBACX;YACF;YAEA,MAAM;uDAAgB;oBACpB,IAAI;wBACF,QAAQ,GAAG,CAAC;wBACZ,MAAM,WAAW,MAAM,MAAM;wBAC7B,QAAQ,GAAG,CAAC,oBAAoB,SAAS,MAAM;wBAE/C,IAAI,CAAC,SAAS,EAAE,EAAE;4BAChB,MAAM,IAAI,MAAM;wBAClB;wBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,QAAQ,GAAG,CAAC,iBAAiB,KAAK,GAAG;mEAAC,CAAC,IAAe,EAAE,QAAQ;;wBAEhE,qDAAqD;wBACrD,MAAM,kBAAkB,QAAQ,KAAK,KAAK,CAAC,GAAG,SAAS;wBACvD,YAAY,MAAM,OAAO,CAAC,mBAAmB,kBAAkB,EAAE;oBACnE,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,4BAA4B;wBAC1C,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;oBACpD,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;gCAAG;QAAC;QAAO;KAAa;IAExB,QAAQ,GAAG,CAAC,qBAAqB;IAEjC,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAmB;;;;;;IAC3C;IAEA,IAAI,OAAO;QACT,qBAAO,6LAAC;YAAI,WAAU;;gBAAgC;gBAAQ;;;;;;;IAChE;IAEA,IAAI,CAAC,SAAS,MAAM,EAAE;QACpB,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAClC,6LAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;IAG7B;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC,gJAAA,CAAA,UAAW;gBAAmB,SAAS;eAAtB,QAAQ,GAAG;;;;;;;;;;AAIrC;GAlEwB;KAAA"}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///Users/nobinsunny/Desktop/git-e/src/components/filters/FilterSidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\nexport default function FilterSidebar() {\n  const [priceRange, setPriceRange] = useState([0, 1000]);\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n\n  const categories = [\n    'Electronics',\n    'Clothing',\n    'Books',\n    'Home & Garden',\n    'Sports',\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h3 className=\"text-lg font-semibold mb-3 text-black\">Categories</h3>\n        {categories.map((category) => (\n          <div key={category} className=\"flex items-center mb-2\">\n            <input\n              type=\"checkbox\"\n              id={category}\n              checked={selectedCategories.includes(category)}\n              onChange={(e) => {\n                if (e.target.checked) {\n                  setSelectedCategories([...selectedCategories, category]);\n                } else {\n                  setSelectedCategories(\n                    selectedCategories.filter((cat) => cat !== category)\n                  );\n                }\n              }}\n              className=\"mr-2\"\n            />\n            <label htmlFor={category} className=\"text-black\">{category}</label>\n          </div>\n        ))}\n      </div>\n\n      <div>\n        <h3 className=\"text-lg font-semibold mb-3 text-black\">Price Range</h3>\n        <div className=\"space-y-2\">\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1000\"\n            value={priceRange[1]}\n            onChange={(e) =>\n              setPriceRange([priceRange[0], parseInt(e.target.value)])\n            }\n            className=\"w-full\"\n          />\n          <div className=\"flex justify-between\">\n            <span className=\"text-black\">${priceRange[0]}</span>\n            <span className=\"text-black\">${priceRange[1]}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAAC;QAAG;KAAK;IACtD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEzE,MAAM,aAAa;QACjB;QACA;QACA;QACA;QACA;KACD;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAwC;;;;;;oBACrD,WAAW,GAAG,CAAC,CAAC,yBACf,6LAAC;4BAAmB,WAAU;;8CAC5B,6LAAC;oCACC,MAAK;oCACL,IAAI;oCACJ,SAAS,mBAAmB,QAAQ,CAAC;oCACrC,UAAU,CAAC;wCACT,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;4CACpB,sBAAsB;mDAAI;gDAAoB;6CAAS;wCACzD,OAAO;4CACL,sBACE,mBAAmB,MAAM,CAAC,CAAC,MAAQ,QAAQ;wCAE/C;oCACF;oCACA,WAAU;;;;;;8CAEZ,6LAAC;oCAAM,SAAS;oCAAU,WAAU;8CAAc;;;;;;;2BAhB1C;;;;;;;;;;;0BAqBd,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,KAAI;gCACJ,KAAI;gCACJ,OAAO,UAAU,CAAC,EAAE;gCACpB,UAAU,CAAC,IACT,cAAc;wCAAC,UAAU,CAAC,EAAE;wCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;qCAAE;gCAEzD,WAAU;;;;;;0CAEZ,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;;4CAAa;4CAAE,UAAU,CAAC,EAAE;;;;;;;kDAC5C,6LAAC;wCAAK,WAAU;;4CAAa;4CAAE,UAAU,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxD;GA3DwB;KAAA"}},
    {"offset": {"line": 780, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 786, "column": 0}, "map": {"version":3,"sources":["file:///Users/nobinsunny/Desktop/git-e/src/app/search/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, Suspense } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport ProductGrid from '@/components/products/ProductGrid';\nimport FilterSidebar from '@/components/filters/FilterSidebar';\nimport { Product } from '@/types/product';\n\nexport default function SearchPage() {\n  const searchParams = useSearchParams();\n  const query = searchParams.get('q');\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-200 to-gray-300\">\n      <div className=\"container mx-auto px-4 py-32\">\n        <div className=\"flex flex-col md:flex-row gap-8\">\n          <aside className=\"w-full md:w-1/6\">\n            <FilterSidebar />\n          </aside>\n          \n          <div className=\"w-full md:w-5/6\">\n            {/* Wrapping SearchResults in Suspense for async fetching */}\n            <Suspense fallback={<div>Loading search results...</div>}>\n              <SearchResults query={query} />\n            </Suspense>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SearchResults({ query }: { query: string | null }) {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchSearchResults = async () => {\n      if (query) {\n        try {\n          setLoading(true);\n          const response = await fetch(`/api/products/search?q=${encodeURIComponent(query)}`);\n          \n          if (!response.ok) {\n            throw new Error('Failed to fetch search results');\n          }\n          \n          const data = await response.json();\n          setProducts(data);\n          setError(null);\n        } catch (error) {\n          console.error('Error fetching search results:', error);\n          setError(error instanceof Error ? error.message : 'An unknown error occurred');\n          setProducts([]);\n        } finally {\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchSearchResults();\n  }, [query]);\n\n  if (loading) {\n    return (\n      <div className=\"animate-pulse\">\n        <div className=\"h-8 bg-gray-300 rounded w-1/4 mb-8\"></div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6\">\n          {[...Array(6)].map((_, i) => (\n            <div \n              key={i} \n              className=\"bg-gray-300 h-64 rounded-lg shadow-sm transform transition-transform duration-300 hover:scale-105\"\n            ></div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"rounded-lg shadow-md\">\n        <h2 className=\"text-2xl font-bold text-red-500 mb-4\">\n          Search Error\n        </h2>\n        <p className=\"text-gray-600\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"rounded-lg\">\n      <h1 className=\"text-xl font-semibold mb-8 text-gray-800\">\n        {products.length > 0\n          ? `Search Results for \"${query}\"`\n          : 'No Products Found'}\n      </h1>\n      \n      {products.length > 0 ? (\n        <ProductGrid products={products} />\n      ) : (\n        <div>\n          <p className=\"text-xl text-gray-600 mb-4\">\n            We couldn't find any products matching your search.\n          </p>\n          <p className=\"text-gray-500\">\n            Try different keywords or browse our categories.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQe,SAAS;;IACtB,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,QAAQ,aAAa,GAAG,CAAC;IAE/B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCACf,cAAA,6LAAC,iJAAA,CAAA,UAAa;;;;;;;;;;kCAGhB,6LAAC;wBAAI,WAAU;kCAEb,cAAA,6LAAC,6JAAA,CAAA,WAAQ;4BAAC,wBAAU,6LAAC;0CAAI;;;;;;sCACvB,cAAA,6LAAC;gCAAc,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC;GAtBwB;;QACD,qIAAA,CAAA,kBAAe;;;KADd;AAwBxB,SAAS,cAAc,EAAE,KAAK,EAA4B;;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM;8DAAqB;oBACzB,IAAI,OAAO;wBACT,IAAI;4BACF,WAAW;4BACX,MAAM,WAAW,MAAM,MAAM,CAAC,uBAAuB,EAAE,mBAAmB,QAAQ;4BAElF,IAAI,CAAC,SAAS,EAAE,EAAE;gCAChB,MAAM,IAAI,MAAM;4BAClB;4BAEA,MAAM,OAAO,MAAM,SAAS,IAAI;4BAChC,YAAY;4BACZ,SAAS;wBACX,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC,kCAAkC;4BAChD,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;4BAClD,YAAY,EAAE;wBAChB,SAAU;4BACR,WAAW;wBACb;oBACF;gBACF;;YAEA;QACF;kCAAG;QAAC;KAAM;IAEV,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;8BACZ;2BAAI,MAAM;qBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,6LAAC;4BAEC,WAAU;2BADL;;;;;;;;;;;;;;;;IAOjB;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAuC;;;;;;8BAGrD,6LAAC;oBAAE,WAAU;8BAAiB;;;;;;;;;;;;IAGpC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BACX,SAAS,MAAM,GAAG,IACf,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC,GAC/B;;;;;;YAGL,SAAS,MAAM,GAAG,kBACjB,6LAAC,gJAAA,CAAA,UAAW;gBAAC,UAAU;;;;;qCAEvB,6LAAC;;kCACC,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAG1C,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;;AAOvC;IAjFS;MAAA"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}